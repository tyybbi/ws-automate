  - name: Clone scripts repo
    git:
      repo: 'https://github.com/tyybbi/scripts.git'
      dest: "/tmp/scripts"
      version: master

  - name: Clone dotfiles repo
    git:
      repo: 'https://github.com/tyybbi/dotfiles.git'
      dest: "/tmp/dotfiles"
      version: master

  - name: Create ~/bin if needed
    file:
      path: "/home/{{ usernam }}/bin"
      state: directory
      owner: "{{ usernam }}"
      group: "{{ usernam }}"
      mode: '0755'

  - name: Copy battery widget
    copy:
      src: files/awesome-bat
      dest: "/home/{{ usernam }}/bin/awesome-bat"
      owner: "{{ usernam }}"
      group: "{{ usernam }}"
      mode: '0755'
    when: is_laptop|bool

  - name: Copy .gitconfig
    copy:
      remote_src: yes
      src: "/tmp/dotfiles/gitconfig"
      dest: "/home/{{ usernam }}/.gitconfig"
      owner: "{{ usernam }}"
      group: "{{ usernam }}"

